@using Bumbo.Data.Models.Enums
@model Bumbo.Web.Models.Furlough.FurloughViewModel

@inject IViewLocalizer Localizer
@{ ViewData["Title"] = Localizer["Furlough"]; }

<h4>@ViewData["Title"]</h4>
<div class="row mb-2">
     <div class="form-group">
         <div class="btn btn-primary c-pointer" onclick="furloughModal();">Nieuwe aanvraag</div>
     </div>
    @if (Model.Furloughs.Count == 0)
    {
    <div>
        <p class="mb-0 font-weight-bold"><i class="alert-info"></i> Nog geen aanvragen</p>
     </div>
    }
    else
    {
        @foreach (var furlough in Model.Furloughs)
        {
            <div class="card">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">@furlough.Description</li>
                    <li class="list-group-item">@furlough.StartDate.ToString("ddd d MMM yyyy | hh:mm")</li>
                    @if (furlough.Status == FurloughStatus.REQUESTED)
                    {
                        <li class="list-group-item">Requested</li>
                    }
                    else if(furlough.Status == FurloughStatus.APPROVED)
                    {
                        <li class="list-group-item">Requested</li>
                    }
                    else
                    {
                        <li class="list-group-item">Rejected</li>
                    }
                </ul>
            </div>
        }
    }

</div>

<partial name="_FurloughModal" model="@Model.Input" />

